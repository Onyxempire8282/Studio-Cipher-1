# ğŸŒ Multi-User Deployment Guide for Claim Cipher

## Overview
This guide shows you how to deploy Claim Cipher for multiple users while keeping API keys secure.

## Deployment Strategies

### ğŸ¯ Strategy 1: Domain-Restricted API Key (Recommended)
**Best for: Public deployment with your own API budget**

1. **Create a Domain-Restricted API Key:**
   ```
   Go to Google Cloud Console â†’ APIs & Credentials
   Create new API key â†’ Add restrictions:
   - HTTP referrers (web sites)
   - Add: *.github.io/* 
   - Add: your-username.github.io/*
   ```

2. **Set up GitHub Pages:**
   - Go to your repo â†’ Settings â†’ Pages
   - Enable GitHub Pages from main branch
   - Your site will be: `https://onyxempire8282.github.io/Studio-Cipher-1/`

3. **Add GitHub Secret:**
   ```
   Repo â†’ Settings â†’ Secrets and Variables â†’ Actions
   New repository secret:
   Name: GOOGLE_MAPS_API_KEY_RESTRICTED
   Value: your_domain_restricted_api_key
   ```

4. **Update your HTML files to use production config:**
   ```html
   <!-- Replace api-config.js with production version -->
   <script src="config/github-pages-env.js"></script>
   <script src="config/api-config-production.js"></script>
   ```

### ğŸ¯ Strategy 2: User-Provided API Keys (Most Secure)
**Best for: Users bring their own API keys**

1. **Use the production config** (`api-config-production.js`)
2. **Users get prompted** to enter their own Google Maps API key
3. **Keys are stored locally** in user's browser (localStorage)
4. **No API costs for you** - each user pays for their own usage

### ğŸ¯ Strategy 3: Hybrid Approach (Recommended)
**Best for: Free tier for light users, paid for heavy users**

1. **Provide a demo/restricted key** for basic features
2. **Allow users to input their own key** for full features
3. **Set daily limits** on your demo key to control costs

## Implementation Steps

### Step 1: Set up API Key Restrictions
```
Google Cloud Console â†’ APIs & Credentials â†’ Your API Key
â†’ Application restrictions â†’ HTTP referrers
Add these domains:
- *.github.io/*
- your-username.github.io/*  
- localhost/* (for development)
```

### Step 2: Configure GitHub Repository
1. **Enable GitHub Pages:**
   - Settings â†’ Pages â†’ Deploy from branch: main
   
2. **Add Repository Secrets:**
   ```
   GOOGLE_MAPS_API_KEY_RESTRICTED = your_restricted_api_key
   ```

3. **Update HTML files:**
   ```html
   <!-- For GitHub Pages deployment -->
   <script src="config/github-pages-env.js"></script>
   <script src="config/api-config-production.js"></script>
   ```

### Step 3: Test Your Deployment
1. **Push to GitHub** - GitHub Actions will deploy automatically
2. **Visit your GitHub Pages URL**
3. **Test mapping features** work for other users
4. **Monitor API usage** in Google Cloud Console

## Cost Management

### Free Tier Limits
Google Maps provides:
- **$200/month free credit**
- **28,000 map loads/month free**
- **40,000 geocoding requests/month free**

### Monitoring Usage
1. **Set up billing alerts** in Google Cloud Console
2. **Monitor daily API usage**
3. **Set quotas** to prevent overruns

### User Options When Limits Hit
```javascript
// Built into production config
- User can input their own API key
- App continues to work without maps
- Clear usage notifications
```

## Security Features Built-In

âœ… **Domain restrictions** prevent unauthorized use  
âœ… **No API keys in public code** - all keys are in secrets/localStorage  
âœ… **User key validation** - checks format before saving  
âœ… **Graceful degradation** - works without maps if needed  
âœ… **Local storage only** - user keys never sent to servers  

## File Structure for Multi-User
```
claim_cipher_app/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ api-config.js              # Your local development (gitignored)
â”‚   â”œâ”€â”€ api-config-template.js     # Template for other developers  
â”‚   â”œâ”€â”€ api-config-production.js   # Multi-user production config
â”‚   â””â”€â”€ github-pages-env.js        # Generated by GitHub Actions
â””â”€â”€ .github/workflows/
    â””â”€â”€ deploy-pages.yml            # Auto-deployment workflow
```

## HTML Update Required
Update your HTML files to use production config for GitHub Pages:

```html
<!-- Development (local) -->
<script src="config/api-config.js"></script>

<!-- Production (GitHub Pages) -->
<script src="config/github-pages-env.js"></script>
<script src="config/api-config-production.js"></script>
```

## Launch Checklist
- [ ] Domain-restricted API key created
- [ ] GitHub Pages enabled
- [ ] GitHub Secrets configured  
- [ ] HTML files updated for production
- [ ] Billing alerts set up
- [ ] API quotas configured
- [ ] Test deployment with different users
- [ ] Monitor initial usage

Your Claim Cipher deployment will now work for multiple users while keeping API keys secure and costs manageable!